(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{278:function(e,t,a){e.exports=a(511)},283:function(e,t,a){},511:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),s=a.n(l),i=(a(283),a(11)),c=a(16),o=a(13),u=a(12),m=a(14),d=a(59),p=a(103),h=a(44),E=a.n(h),g=new function e(){var t=this;Object(i.a)(this,e),this.signup=function(e){var a=e.firstName,n=e.lastName,r=e.email,l=e.password;return t.auth.post("/api/auth/signup",{firstName:a,lastName:n,email:r,password:l}).then((function(e){return e.data}))},this.login=function(e){var a=e.email,n=e.password;return t.auth.post("/api/auth/login",{email:a,password:n}).then((function(e){return e.data}))},this.logout=function(){return t.auth.get("/api/auth/logout",{}).then((function(e){return e.data}))},this.me=function(){return t.auth.get("/api/auth/me").then((function(e){return e.data}))},this.auth=E.a.create({baseURL:"https://upshotweb.herokuapp.com",withCredentials:!0})},f=r.a.createContext(),v=f.Consumer,b=f.Provider,j=function(e){return function(t){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(c.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(v,null,(function(a){var n=a.login,l=a.signup,s=a.user,i=a.logout,c=a.isLoggedin;return r.a.createElement(e,Object.assign({login:n,signup:l,user:s,logout:i,isLoggedin:c},t.props))}))}}]),a}(n.Component)},C=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).componentDidMount=function(){g.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){e.setState({isLoggedin:!1,user:null,isLoading:!1}),console.log(t)}))},e.signup=function(t){var a=t.firstName,n=t.lastName,r=t.email,l=t.password;g.signup({firstName:a,lastName:n,email:r,password:l}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(t){var a=t.response;return e.setState({message:a.data.statusMessage})}))},e.login=function(t){var a=t.email,n=t.password;g.login({email:a,password:n}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(e){return console.log(e)}))},e.logout=function(){g.logout().then((function(){return e.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},e.render=function(){var t=e.state,a=t.isLoading,n=t.isLoggedin,l=t.user,s=Object(p.a)(e),i=s.login,c=s.logout,o=s.signup;return a?r.a.createElement("div",null," ",r.a.createElement("img",{alt:"",src:"assets/img/arrow.png",width:"30",height:"30",className:"d-inline-block align-top"}),"Loading..."):r.a.createElement(b,{value:{isLoggedin:n,user:l,login:i,logout:c,signup:o}},e.props.children)},e.state={isLoggedin:!1,user:null,isLoading:!0},e}return Object(m.a)(t,e),t}(n.Component),y=a(104),w=j((function(e){var t=e.component,a=e.isLoggedin,n=Object(y.a)(e,["component","isLoggedin"]);return r.a.createElement(d.d,Object.assign({},n,{render:function(e){return a?r.a.createElement(d.c,{to:"/"}):r.a.createElement(t,e)}}))})),k=j((function(e){var t=e.component,a=e.isLoggedin,n=Object(y.a)(e,["component","isLoggedin"]);return r.a.createElement(d.d,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(d.c,{to:"/signup"})}}))})),O=a(9),L=a(233),N=a(234),S=a(526),I=a(254),U=a(515),D=a(119),x=j(function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(S.a,{collapseOnSelect:!0,bg:"dark",variant:"dark",expand:"lg",sticky:"top"},r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(S.a.Brand,null,r.a.createElement("img",{alt:"",src:"assets/img/arrow.png",width:"25",height:"25",className:"d-inline-block align-top"})," ",r.a.createElement("span",{className:"brand-name"},"upshot"))),r.a.createElement(S.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(S.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(I.a,{className:"mr-auto"}),r.a.createElement(I.a,null,r.a.createElement(U.a,{id:"dropdown-item-button",title:r.a.createElement(L.a,{icon:N.a}),size:"sm",variant:"upshot",alignRight:!0},r.a.createElement(O.LinkContainer,{to:"/issues"},r.a.createElement(D.a.Item,{as:"button"},"Issues")),r.a.createElement(O.LinkContainer,{to:"/projects"},r.a.createElement(D.a.Item,{as:"button"},"Projects")),r.a.createElement(O.LinkContainer,{to:"/users"},r.a.createElement(D.a.Item,{as:"button"},"Team Members")),r.a.createElement(D.a.Divider,null),this.props.user&&r.a.createElement(O.LinkContainer,{to:"/users/"+this.props.user._id},r.a.createElement(D.a.Item,{as:"button"},this.props.user.firstName+" "+this.props.user.lastName)),r.a.createElement(D.a.Item,{as:"button",onClick:this.props.logout},"Sign Out")))))}}]),t}(n.Component)),P=a(527),R=function(){return r.a.createElement(P.a,{variant:"flush"},r.a.createElement(O.LinkContainer,{to:"/dashboard"},r.a.createElement(P.a.Item,{action:!0,variant:"light"},"Dashboard")),r.a.createElement(O.LinkContainer,{to:"/projects"},r.a.createElement(P.a.Item,{action:!0,variant:"light"},"Projects")),r.a.createElement(O.LinkContainer,{to:"/issues"},r.a.createElement(P.a.Item,{action:!0,variant:"light"},"Issues")),r.a.createElement(O.LinkContainer,{to:"/users"},r.a.createElement(P.a.Item,{action:!0,variant:"light"},"Team Members")))},F=a(516),_=a(517),H=a(250),M=a(15),T=a.n(M),A=a(21),G=new function e(){var t=this;Object(i.a)(this,e),this.priorityData=function(){return t.chart.get("/api/charts/prioritypie").then((function(e){return e}))},this.barData=function(){return t.chart.get("/api/charts/bardata").then((function(e){return e}))},this.chart=E.a.create({baseURL:"https://upshotweb.herokuapp.com",withCredentials:!0})},q=a(33),B=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=Object(A.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.priorityData().then((function(e){var t=e.data;a.setState({pieData:t})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),a.state={pieData:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[{name:"Low",value:this.state.pieData.low},{name:"Medium",value:this.state.pieData.medium},{name:"High",value:this.state.pieData.high},{name:"Critical",value:this.state.pieData.critical}],t=["#66A103","#FADA5E","#FF9900","#D92121"],a=Math.PI/180;return r.a.createElement(q.g,{width:400,height:400},r.a.createElement(q.f,{data:e,cx:200,cy:200,labelLine:!1,label:function(e){var t=e.cx,n=e.cy,l=e.midAngle,s=e.innerRadius,i=e.outerRadius,c=e.percent,o=(e.index,s+.5*(i-s)),u=t+o*Math.cos(-l*a),m=n+o*Math.sin(-l*a);return r.a.createElement("text",{x:u,y:m,fill:"white",textAnchor:u>t?"start":"end",dominantBaseline:"central"},"".concat((100*c).toFixed(0),"%"))},outerRadius:80,fill:"#8884d8",dataKey:"value"},e.map((function(e,a){return r.a.createElement(q.d,{key:"cell-".concat(a),fill:t[a%t.length]})}))))}}]),t}(n.Component)),z=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=Object(A.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.barData().then((function(e){var t=e.data;a.setState({barData:t})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),a.state={barData:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[{name:"Users",Users:this.state.barData.users},{name:"Projects",Projects:this.state.barData.projects},{name:"Issues",Issues:this.state.barData.issues},{name:"Comments",Comments:this.state.barData}];return r.a.createElement(q.b,{width:500,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(q.c,{strokeDasharray:"3 3"}),r.a.createElement(q.i,{dataKey:"name"}),r.a.createElement(q.j,null),r.a.createElement(q.h,null),r.a.createElement(q.e,null),r.a.createElement(q.a,{dataKey:"Users",fill:"#708090"}),r.a.createElement(q.a,{dataKey:"Projects",fill:"#8884d8"}),r.a.createElement(q.a,{dataKey:"Issues",fill:"#000080"}),r.a.createElement(q.a,{dataKey:"Comments",fill:"#008080"}))}}]),t}(n.Component)),K=a(528),J=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={users:"",projects:"",issues:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(K.a.Item,{active:!0},"Home")),r.a.createElement(_.a,{className:"controls"},r.a.createElement("h2",null,"Dashboard")),r.a.createElement(_.a,null,r.a.createElement(H.a,{sm:6},r.a.createElement(F.a,{className:"pie"},r.a.createElement(B,null),r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",{className:"low"},"Low"),r.a.createElement("li",{className:"medium"},"Medium"),r.a.createElement("li",{className:"high"},"High"),r.a.createElement("li",{className:"critical"},"Critical"))))),r.a.createElement(H.a,{sm:6},r.a.createElement(F.a,null,r.a.createElement(z,null),r.a.createElement("div",null)))))}}]),t}(n.Component)),Q=a(31),V=a(18),W=a(524),X=a(523),Y=a(518),Z=a(238),$=j(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.firstName,r=a.lastName,l=a.email,s=a.password;e.props.signup({firstName:n,lastName:r,email:l,password:s})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Q.a)({},n,r))},e.state={firstName:"",lastName:"",email:"",password:"",errors:""},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.firstName,a=e.lastName,n=e.email,l=e.password,s=e.errors;return r.a.createElement(W.a.Dialog,null,r.a.createElement(W.a.Header,{closeButton:!0},r.a.createElement(W.a.Title,null,"Sign Up")),r.a.createElement(W.a.Body,null,r.a.createElement(F.a,null,r.a.createElement(_.a,{className:"show-grid"},r.a.createElement(H.a,{xs:6,md:4}),r.a.createElement(H.a,{xs:6,md:4},r.a.createElement(S.a.Brand,null,r.a.createElement("img",{alt:"",src:"assets/img/arrow.png",width:"30",height:"30",className:"d-inline-block align-top"})," ","upshot")),r.a.createElement(H.a,{xs:6,md:4}))),r.a.createElement(X.a,{onSubmit:this.handleFormSubmit,id:"signup"},r.a.createElement(X.a.Group,{controlId:"firstName"},r.a.createElement(X.a.Label,null,"First Name"),r.a.createElement(X.a.Control,{type:"text",name:"firstName",value:t,onChange:this.handleChange,autoComplete:"given-name",required:!0})),r.a.createElement(X.a.Group,{controlId:"lastName"},r.a.createElement(X.a.Label,null,"Last Name"),r.a.createElement(X.a.Control,{type:"text",name:"lastName",value:a,onChange:this.handleChange,autoComplete:"family-name",required:!0})),r.a.createElement(X.a.Group,{controlId:"email"},r.a.createElement(X.a.Label,null,"Email address"),r.a.createElement(X.a.Control,{type:"email",name:"email",value:n,onChange:this.handleChange,autoComplete:"email",required:!0})),r.a.createElement(X.a.Group,{controlId:"password"},r.a.createElement(X.a.Label,null,"Enter a Password"),r.a.createElement(X.a.Control,{type:"password",name:"password",value:l,onChange:this.handleChange,autoComplete:"new-password"})),r.a.createElement(X.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(X.a.Check,{type:"checkbox",label:"I Agree to the terms and conditions"})),s&&r.a.createElement(Y.a,{variant:"danger",dismissible:!0},r.a.createElement("p",null,s))),r.a.createElement(V.Link,{to:"/login"},r.a.createElement("p",null,"Already have an account? Sign in..."))),r.a.createElement(W.a.Footer,null,r.a.createElement(Z.a,{variant:"primary",type:"submit",form:"signup",disabled:!t||!a||!n||!l},"Submit")))}}]),t}(n.Component)),ee=j(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.email,r=a.password;e.props.login({email:n,password:r})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(Q.a)({},n,r))},e.state={email:"",password:"",errors:""},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.errors;return r.a.createElement(W.a.Dialog,null,r.a.createElement(W.a.Header,{closeButton:!0},r.a.createElement(W.a.Title,null,"Sign In")),r.a.createElement(W.a.Body,null,r.a.createElement(F.a,null,r.a.createElement(_.a,{className:"show-grid"},r.a.createElement(H.a,{xs:6,md:4}),r.a.createElement(H.a,{xs:6,md:4},r.a.createElement(S.a.Brand,null,r.a.createElement("img",{alt:"",src:"assets/img/arrow.png",width:"30",height:"30",className:"d-inline-block align-top"})," ","upshot")),r.a.createElement(H.a,{xs:6,md:4}))),r.a.createElement(X.a,{onSubmit:this.handleFormSubmit,id:"login"},r.a.createElement(X.a.Group,{controlId:"email"},r.a.createElement(X.a.Label,null,"Email address"),r.a.createElement(X.a.Control,{type:"email",name:"email",value:t,onChange:this.handleChange,autoComplete:"email",required:!0})),r.a.createElement(X.a.Group,{controlId:"password"},r.a.createElement(X.a.Label,null,"Password"),r.a.createElement(X.a.Control,{type:"password",name:"password",value:a,onChange:this.handleChange,autoComplete:"password"})),r.a.createElement(X.a.Group,{controlId:"rememberMe"},r.a.createElement(X.a.Check,{type:"checkbox",label:"Remember Me"})),n&&r.a.createElement(Y.a,{variant:"danger",dismissible:!0},r.a.createElement("p",null,n))),r.a.createElement(V.Link,{to:"/signup"},r.a.createElement("p",null,"Not a member? Sign up..."))),r.a.createElement(W.a.Footer,null,r.a.createElement(Z.a,{variant:"primary",form:"login",type:"submit",disabled:!t||!a},"Submit")))}}]),t}(n.Component)),te=new function e(){var t=this;Object(i.a)(this,e),this.list=function(){return t.issue.get("/api/issues").then((function(e){return e}))},this.create=function(e){var a=e.title,n=e.content,r=e.project,l=e.priority,s=e.attachments;return t.issue.post("/api/issues/create",{title:a,content:n,project:r,priority:l,attachments:s}).then((function(e){return e}))},this.update=function(e){var a=e.id,n=e.title,r=e.content,l=e.project,s=e.priority,i=e.status,c=e.attachments;return t.issue.put("/api/issues/"+a+"/update",{title:n,content:r,project:l,priority:s,status:i,attachments:c}).then((function(e){return e}))},this.delete=function(e){return t.issue.get("/api/issues/"+e+"/delete").then((function(e){return e}))},this.details=function(e){return t.issue.get("/api/issues/"+e).then((function(e){return e}))},this.comment=function(e){var a=e.issue,n=e.content;return t.issue.post("/api/issues/"+a+"/comment",{content:n}).then((function(e){return e}))},this.follow=function(e){var a=e.id;return t.issue.get("/api/issues/"+a+"/follow").then((function(e){return e}))},this.unfollow=function(e){var a=e.id;return t.issue.get("/api/issues/"+a+"/unfollow").then((function(e){return e.data}))},this.takeover=function(e){var a=e.id;return t.issue.get("/api/issues/"+a+"/takeover").then((function(e){return e.data}))},this.release=function(e){var a=e.id;return t.issue.get("/api/issues/"+a+"/release").then((function(e){return e.data}))},this.assign=function(e){var a=e.id,n=e.user;return t.issue.post("/api/issues/"+a+"/assign",{user:n}).then((function(e){return e.data}))},this.issue=E.a.create({baseURL:"https://upshotweb.herokuapp.com",withCredentials:!0})},ae=j((function(e){return r.a.createElement("tr",null,r.a.createElement("td",{className:"priority"},e.priority),r.a.createElement("td",null,e.status),r.a.createElement("td",null,e.created),r.a.createElement("td",null,r.a.createElement(V.Link,{to:"/issues/"+e.id},e.title)),r.a.createElement("td",null,e.description),r.a.createElement("td",null,r.a.createElement(V.Link,{to:"/projects/"+e.projectId},e.projectName)),r.a.createElement("td",null,e.followers),r.a.createElement("td",null,e.comments))})),ne=a(519),re=j(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={issues:[]},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;te.list().then((function(t){var a=t.data;a.length>0&&e.setState({issues:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(K.a.Item,null,"Home")),r.a.createElement(K.a.Item,{active:!0},"Issues")),r.a.createElement(_.a,{className:"controls"},r.a.createElement("h2",null,"Issues"),r.a.createElement(O.LinkContainer,{to:"/issues/create"},r.a.createElement(Z.a,{variant:"upshot"},"Create Issue"))),r.a.createElement(_.a,null,r.a.createElement(ne.a,{responsive:!0,className:"table",striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Priority"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Created"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Project"),r.a.createElement("th",null,"Followers"),r.a.createElement("th",null,"Comments"))),r.a.createElement("tbody",null,this.state.issues.map((function(e,t){return r.a.createElement(ae,{key:t,id:e._id,priority:e.priority,status:e.status,title:e.title,created:e.relativeDate,description:e.content,projectId:e.project._id,projectName:e.project.name,creatorId:e.creator._id,creatorName:e.creator.firstName+" "+e.creator.lastName,followers:e.followers.length,comments:e.comments.length})}))))))}}]),t}(n.Component)),le=a(79),se=new function e(){var t=this;Object(i.a)(this,e),this.list=function(){return t.project.get("/api/projects").then((function(e){return e}))},this.create=function(e){var a=e.name,n=e.description,r=e.imageURL;return t.project.post("/api/projects/create",{name:a,description:n,imageURL:r}).then((function(e){return e}))},this.update=function(e){var a=e.id,n=e.name,r=e.description,l=e.imageURL;return t.project.put("/api/projects/"+a+"/update",{name:n,description:r,imageURL:l}).then((function(e){return e}))},this.delete=function(e){return t.project.get("/api/projects/"+e+"/delete").then((function(e){return e}))},this.details=function(e){return t.project.get("/api/projects/"+e).then((function(e){return e}))},this.project=E.a.create({baseURL:"https://upshotweb.herokuapp.com",withCredentials:!0})},ie=a(29),ce=a.n(ie),oe=a(47),ue=a.n(oe),me=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(){var e=Object(A.a)(T.a.mark((function e(t){var n,r,l,s,i,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.title,l=n.content,s=n.project,i=n.priority,c=n.attachments,e.next=4,te.create({title:r,content:l,project:s,priority:i,attachments:c});case 4:a.setState({title:"",content:"",project:"",priority:"",filenames:[],attachments:[],isUploading:!1,uploadProgress:0,errors:"",redirect:!0}),a.props.history.push("/issues");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Q.a)({},n,r))},a.handleUploadStart=function(){return a.setState({isUploading:!0,uploadProgress:0})},a.handleProgress=function(e){return a.setState({uploadProgress:e})},a.handleUploadError=function(e){a.setState({isUploading:!1}),console.error(e)},a.handleUploadSuccess=function(){var e=Object(A.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.storage().ref("images").child(t).getDownloadURL();case 2:n=e.sent,a.setState((function(e){return{filenames:[].concat(Object(le.a)(e.filenames),[t]),attachments:[].concat(Object(le.a)(e.attachments),[n]),uploadProgress:100,isUploading:!1}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={title:"",content:"",project:"",priority:"",filenames:[],attachments:[],isUploading:!1,uploadProgress:0,errors:"",projects:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;se.list().then((function(t){var a=t.data;a.length>0&&e.setState({projects:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.content,n=e.errors;return r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(K.a.Item,null,"Home")),r.a.createElement(O.LinkContainer,{to:"/issues"},r.a.createElement(K.a.Item,null,"Issues")),r.a.createElement(K.a.Item,{active:!0},"Create Issue")),r.a.createElement(W.a.Dialog,null,r.a.createElement(W.a.Header,null,r.a.createElement(W.a.Title,null,"Create Issue")),r.a.createElement(W.a.Body,null,r.a.createElement(X.a,{onSubmit:this.handleFormSubmit,id:"createIssue"},r.a.createElement(X.a.Group,{controlId:"title"},r.a.createElement(X.a.Label,null,"Title"),r.a.createElement(X.a.Control,{type:"text",name:"title",value:t,onChange:this.handleChange,required:!0})),r.a.createElement(X.a.Group,{controlId:"content"},r.a.createElement(X.a.Label,null,"Description"),r.a.createElement(X.a.Control,{as:"textarea",rows:"6",name:"content",value:a,onChange:this.handleChange,required:!0})),r.a.createElement(X.a.Group,{controlId:"project"},r.a.createElement(X.a.Label,null,"Project"),r.a.createElement(X.a.Control,{as:"select",onChange:this.handleChange,name:"project",value:this.props.match.params.id,required:!0},r.a.createElement("option",{disabled:!0,selected:!0,value:!0},"Select Project"),this.state.projects&&this.state.projects.map((function(e){return r.a.createElement("option",{value:e._id,key:e._id},e.name)})))),r.a.createElement(X.a.Group,{controlId:"priority"},r.a.createElement(X.a.Label,null,"Priority"),r.a.createElement(X.a.Control,{as:"select",onChange:this.handleChange,name:"priority",required:!0},r.a.createElement("option",{disabled:!0,selected:!0,value:!0},"Select a Priority"),r.a.createElement("option",{value:"Low"},"Low"),r.a.createElement("option",{value:"Medium"},"Medium"),r.a.createElement("option",{value:"High"},"High"),r.a.createElement("option",{value:"Critical"},"Critical"))),r.a.createElement("label",{style:{backgroundColor:"steelblue",color:"white",padding:10,borderRadius:4,cursor:"pointer"}},"Add attachments",r.a.createElement(ue.a,{hidden:!0,accept:"image/*",name:"image-uploader-multiple",randomizeFilename:!0,storageRef:ce.a.storage().ref("images"),onUploadStart:this.handleUploadStart,onUploadError:this.handleUploadError,onUploadSuccess:this.handleUploadSuccess,onProgress:this.handleProgress,multiple:!0})),r.a.createElement(F.a,null,r.a.createElement(_.a,null,this.state.attachments.map((function(e,t){return r.a.createElement("img",{key:t,alt:"Attachment",src:e,width:"auto",height:"100",className:"d-inline-block align-top"})})))),n&&r.a.createElement(Y.a,{variant:"danger",dismissible:!0},r.a.createElement("p",null,n)))),r.a.createElement(W.a.Footer,null,r.a.createElement(O.LinkContainer,{to:"/issues"},r.a.createElement(Z.a,{variant:"primary",size:"sm"},"Cancel")),r.a.createElement(Z.a,{variant:"upshot",size:"sm",type:"submit",form:"createIssue",disabled:!t||!a},"Submit"))))}}]),t}(n.Component)),de=new function e(){var t=this;Object(i.a)(this,e),this.list=function(){return t.user.get("/api/users").then((function(e){return e}))},this.update=function(e){var a=e.id,n=e.firstName,r=e.lastName,l=e.email,s=e.avatar;return t.user.put("/api/users/"+a+"/update",{id:a,firstName:n,lastName:r,email:l,avatar:s}).then((function(e){return e}))},this.details=function(e){return t.user.get("/api/users/"+e).then((function(e){return e}))},this.user=E.a.create({baseURL:"https://upshotweb.herokuapp.com",withCredentials:!0})},pe=a(525),he=j((function(e){return r.a.createElement(pe.a,null,r.a.createElement(pe.a.Header,null,r.a.createElement("img",{src:e.avatar,className:"rounded mr-2",alt:"",width:"30",height:"30"}),r.a.createElement("strong",{className:"mr-auto"},r.a.createElement(V.Link,{to:"/users/"+e.commenterId},e.commenterName)),r.a.createElement("small",null,e.created)),r.a.createElement(pe.a.Body,null,e.content))})),Ee=a(253),ge=a(520),fe=function(e){var t=Object(n.useState)(!1),a=Object(Ee.a)(t,2),l=a[0],s=a[1],i=function(){return s(!1)},c=function(){return s(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:e.attachment,alt:"Attachment",onClick:c}),r.a.createElement(W.a,{size:"md",show:l,onHide:i},r.a.createElement(W.a.Header,{closeButton:!0},r.a.createElement(W.a.Title,null,"Attachment")),r.a.createElement(W.a.Body,null,r.a.createElement(ge.a,{src:e.attachment,alt:"Attachment",onClick:c,fluid:!0})),r.a.createElement(W.a.Footer,null,r.a.createElement(Z.a,{variant:"secondary",onClick:i},"Close"))))},ve=a(521),be=a(529),je=a(522),Ce=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=Object(A.a)(T.a.mark((function e(){var t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,te.details(t).then((function(e){var t=e.data;a.setState({issue:t})})).catch((function(e){return console.log(e)}));case 3:return n=a.props.user._id,e.next=6,de.details(n).then((function(e){var t=e.data;a.setState({user:t})})).catch((function(e){return console.log(e)}));case 6:a.state.issue.creator._id===a.state.user._id&&a.setState({update:!0}),a.state.user.following.forEach((function(e){e._id===a.state.issue._id&&a.setState({following:!0})})),a.state.user.assignedTo.forEach((function(e){e._id===a.state.issue._id&&a.setState({assigned:!0})}));case 9:case"end":return e.stop()}}),e)}))),a.followIssue=Object(A.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.issue._id,e.next=3,te.follow({id:t});case 3:a.setState((function(e){return{following:!e.following}}));case 4:case"end":return e.stop()}}),e)}))),a.unfollowIssue=Object(A.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.issue._id,e.next=3,te.unfollow({id:t});case 3:a.setState((function(e){return{following:!e.following}}));case 4:case"end":return e.stop()}}),e)}))),a.takeoverIssue=Object(A.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.issue._id,e.next=3,te.takeover({id:t});case 3:a.setState((function(e){return{assigned:!e.assigned}}));case 4:case"end":return e.stop()}}),e)}))),a.releaseIssue=Object(A.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.issue._id,e.next=3,te.release({id:t});case 3:a.setState((function(e){return{assigned:!e.assigned}}));case 4:case"end":return e.stop()}}),e)}))),a.render=function(){return r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(K.a.Item,null,"Home")),r.a.createElement(O.LinkContainer,{to:"/issues"},r.a.createElement(K.a.Item,null,"Issues")),r.a.createElement(K.a.Item,{active:!0},"Issue Details")),r.a.createElement(_.a,{className:"controls"},r.a.createElement("h2",null,a.state.issue.title),r.a.createElement(ve.a,{"aria-label":"Actions"},a.state.issue&&a.state.update?r.a.createElement(Z.a,{variant:"danger",onClick:function(){return te.delete(a.props.match.params.id)}},"Delete"):null,a.state.issue&&a.state.update?r.a.createElement(O.LinkContainer,{to:"/issues/"+a.state.issue._id+"/update"},r.a.createElement(Z.a,{variant:"upshot"},"Update")):null,a.state.issue&&a.state.following?r.a.createElement(Z.a,{onClick:a.unfollowIssue,variant:"upshot"},"Unfollow"):r.a.createElement(Z.a,{onClick:a.followIssue,variant:"upshot"},"Follow"),a.state.issue&&a.state.assigned?r.a.createElement(Z.a,{onClick:a.releaseIssue,variant:"upshot"},"Release"):r.a.createElement(Z.a,{onClick:a.takeoverIssue,variant:"upshot"},"Takeover"))),r.a.createElement(_.a,null,r.a.createElement(F.a,{fluid:!0},r.a.createElement(be.a,{defaultActiveKey:"details",id:"uncontrolled-tab-example",className:"details"},r.a.createElement(je.a,{eventKey:"details",title:"Details"},r.a.createElement(F.a,{fluid:!0,className:"issue-details"},r.a.createElement(_.a,null,a.state.issue.content),r.a.createElement(_.a,null,r.a.createElement(F.a,{className:"attachments"},a.state.issue.attachments&&a.state.issue.attachments.map((function(e,t){return r.a.createElement(fe,{key:t,attachment:e})})))))),r.a.createElement(je.a,{eventKey:"comments",title:"Comments"},r.a.createElement(F.a,{fluid:!0,className:"issue-details"},r.a.createElement(_.a,null,r.a.createElement(O.LinkContainer,{to:"/issues/"+a.state.issue._id+"/comment"},r.a.createElement(Z.a,{variant:"upshot"},"Post New Comment"))),r.a.createElement(_.a,null,r.a.createElement(F.a,{fluid:!0,className:"comments"},a.state.issue.comments&&a.state.issue.comments.map((function(e,t){return r.a.createElement(he,{key:t,id:e._id,commenterId:e.user._id,commenterName:e.user.firstName+" "+e.user.lastName,avatar:e.user.avatar,content:e.content,created:e.relativeDate})}))))))))))},a.state={issue:"",update:"",following:"",assigned:"",user:""},a}return Object(m.a)(t,e),t}(n.Component)),ye=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.id;te.details(e).then((function(e){var t=e.data;a.setState({issueDetails:t})})).catch((function(e){return console.log(e)}))},a.handleFormSubmit=function(){var e=Object(A.a)(T.a.mark((function e(t){var n,r,l;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.issue,l=n.content,e.next=4,te.comment({issue:r,content:l});case 4:a.setState({content:""}),a.props.history.push("/issues/"+a.state.issue);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Q.a)({},n,r))},a.state={issue:a.props.match.params.id,issueDetails:"",content:"",errors:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.content,a=e.errors;return r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(K.a.Item,null,"Home")),r.a.createElement(O.LinkContainer,{to:"/issues"},r.a.createElement(K.a.Item,null,"Issues")),r.a.createElement(O.LinkContainer,{to:"/issues/"+this.props.match.params.id},r.a.createElement(K.a.Item,null,this.state.issueDetails.title)),r.a.createElement(K.a.Item,{active:!0},"Post Comment")),r.a.createElement(W.a.Dialog,null,r.a.createElement(W.a.Header,null,r.a.createElement(W.a.Title,null,"Post Comment")),r.a.createElement(W.a.Body,null,r.a.createElement(X.a,{onSubmit:this.handleFormSubmit,id:"comment"},r.a.createElement(X.a.Group,{controlId:"content"},r.a.createElement(X.a.Label,null,"Comment"),r.a.createElement(X.a.Control,{as:"textarea",rows:"10",name:"content",value:t,onChange:this.handleChange,required:!0})),a&&r.a.createElement(Y.a,{variant:"danger",dismissible:!0},r.a.createElement("p",null,a)))),r.a.createElement(W.a.Footer,null,r.a.createElement(O.LinkContainer,{to:"/issues/"+this.props.match.params.id},r.a.createElement(Z.a,{variant:"primary",size:"sm"},"Cancel")),r.a.createElement(Z.a,{variant:"upshot",size:"sm",type:"submit",form:"comment",disabled:!t},"Submit"))))}}]),t}(n.Component)),we=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(){var e=Object(A.a)(T.a.mark((function e(t){var n,r,l,s,i,c,o,u;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.id,l=n.title,s=n.content,i=n.project,c=n.priority,o=n.status,u=n.attachments,e.next=4,te.update({id:r,title:l,content:s,project:i,priority:c,status:o,attachments:u});case 4:a.setState({title:"",content:"",project:"",priority:"",status:"",attachments:""}),a.props.history.push("/issues/"+a.state.id);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Q.a)({},n,r))},a.handleUploadStart=function(){return a.setState({isUploading:!0,uploadProgress:0})},a.handleProgress=function(e){return a.setState({uploadProgress:e})},a.handleUploadError=function(e){a.setState({isUploading:!1}),console.error(e)},a.handleUploadSuccess=function(){var e=Object(A.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.storage().ref("images").child(t).getDownloadURL();case 2:n=e.sent,a.setState((function(e){return{filenames:[].concat(Object(le.a)(e.filenames),[t]),attachments:[].concat(Object(le.a)(e.attachments),[n]),uploadProgress:100,isUploading:!1}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=function(){se.list().then((function(e){var t=e.data;t.length>0&&a.setState({projects:t})})).catch((function(e){return console.log(e)}));var e=a.props.match.params.id;te.details(e).then((function(e){var t=e.data;a.setState({title:t.title,content:t.content,project:t.project,priority:t.priority,status:t.status})})).catch((function(e){return console.log(e)}))},a.state={id:a.props.match.params.id,title:"",content:"",project:"",priority:"",filenames:[],attachments:[],isUploading:!1,uploadProgress:0,status:"",errors:"",projects:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.content,n=e.project,l=e.priority,s=e.status,i=e.errors;return r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(K.a.Item,null,"Home")),r.a.createElement(O.LinkContainer,{to:"/issues"},r.a.createElement(K.a.Item,null,"Issues")),r.a.createElement(O.LinkContainer,{to:"/issues/"+this.state.id},r.a.createElement(K.a.Item,null,this.state.title)),r.a.createElement(K.a.Item,{active:!0},"Update Issue")),r.a.createElement(W.a.Dialog,null,r.a.createElement(W.a.Header,null,r.a.createElement(W.a.Title,null,"Update Issue")),r.a.createElement(W.a.Body,null,r.a.createElement(X.a,{onSubmit:this.handleFormSubmit,id:"updateIssue"},r.a.createElement(X.a.Group,{controlId:"title"},r.a.createElement(X.a.Label,null,"Title"),r.a.createElement(X.a.Control,{type:"text",name:"title",value:t,onChange:this.handleChange,required:!0})),r.a.createElement(X.a.Group,{controlId:"content"},r.a.createElement(X.a.Label,null,"Description"),r.a.createElement(X.a.Control,{as:"textarea",rows:"6",name:"content",value:a,onChange:this.handleChange,required:!0})),r.a.createElement(X.a.Group,{controlId:"project"},r.a.createElement(X.a.Label,null,"Project"),r.a.createElement(X.a.Control,{as:"select",onChange:this.handleChange,name:"project",value:n._id,required:!0},this.state.projects&&this.state.projects.map((function(e){return r.a.createElement("option",{value:e._id,key:e._id},e.name)})))),r.a.createElement(X.a.Group,{controlId:"priority"},r.a.createElement(X.a.Label,null,"Priority"),r.a.createElement(X.a.Control,{as:"select",onChange:this.handleChange,name:"priority",value:l,required:!0},r.a.createElement("option",{value:"Low"},"Low"),r.a.createElement("option",{value:"Medium"},"Medium"),r.a.createElement("option",{value:"High"},"High"),r.a.createElement("option",{value:"Critical"},"Critical"))),r.a.createElement(X.a.Group,{controlId:"status"},r.a.createElement(X.a.Label,null,"Status"),r.a.createElement(X.a.Control,{as:"select",onChange:this.handleChange,name:"status",value:s,required:!0},r.a.createElement("option",{value:"Open"},"Open"),r.a.createElement("option",{value:"Closed"},"Closed"),r.a.createElement("option",{value:"Re-Opened"},"Re-Opened"))),r.a.createElement("label",{style:{backgroundColor:"steelblue",color:"white",padding:10,borderRadius:4,cursor:"pointer"}},"Add attachments",r.a.createElement(ue.a,{hidden:!0,accept:"image/*",name:"image-uploader-multiple",randomizeFilename:!0,storageRef:ce.a.storage().ref("images"),onUploadStart:this.handleUploadStart,onUploadError:this.handleUploadError,onUploadSuccess:this.handleUploadSuccess,onProgress:this.handleProgress,multiple:!0})),r.a.createElement(F.a,null,r.a.createElement(_.a,null,this.state.attachments.map((function(e,t){return r.a.createElement("img",{key:t,alt:"Attachment",src:e,width:"auto",height:"100",className:"d-inline-block align-top"})})))),i&&r.a.createElement(Y.a,{variant:"danger",dismissible:!0},r.a.createElement("p",null,i)))),r.a.createElement(W.a.Footer,null,r.a.createElement(O.LinkContainer,{to:"/issues/"+this.state.id},r.a.createElement(Z.a,{variant:"primary",size:"sm"},"Cancel")),r.a.createElement(Z.a,{variant:"upshot",size:"sm",type:"submit",form:"updateIssue"},"Submit"))))}}]),t}(n.Component)),ke=j((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(V.Link,{to:"/projects/"+e.id},r.a.createElement("img",{src:e.image,alt:e.name,className:"list-image"}))),r.a.createElement("td",null,r.a.createElement(V.Link,{to:"/projects/"+e.id},e.name)),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.issues),r.a.createElement("td",null,r.a.createElement(V.Link,{to:"/users/"+e.creatorId},e.creatorName)),r.a.createElement("td",null,e.created))})),Oe=j(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={projects:[]},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;se.list().then((function(t){var a=t.data;a.length>0&&e.setState({projects:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(K.a.Item,null,"Home")),r.a.createElement(K.a.Item,{active:!0},"Projects")),r.a.createElement(_.a,{className:"controls"},r.a.createElement("h2",null,"Projects"),r.a.createElement(O.LinkContainer,{to:"/projects/create"},r.a.createElement(Z.a,{variant:"upshot"},"Create Project"))),r.a.createElement(_.a,null,r.a.createElement(ne.a,{responsive:!0,className:"table",striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Issues"),r.a.createElement("th",null,"Owner"),r.a.createElement("th",null,"Created"))),r.a.createElement("tbody",null,this.state.projects.map((function(e,t){return r.a.createElement(ke,{key:t,id:e._id,name:e.name,image:e.image,description:e.description,creatorName:e.creator.firstName+" "+e.creator.lastName,creatorId:e.creator._id,issues:e.issues.length,created:e.relativeDate})}))))))}}]),t}(n.Component)),Le=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(){var e=Object(A.a)(T.a.mark((function e(t){var n,r,l,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.name,l=n.description,s=n.imageURL,e.next=4,se.create({name:r,description:l,imageURL:s});case 4:a.setState({name:"",description:""}),a.props.history.push("/projects");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Q.a)({},n,r))},a.handleUploadStart=function(){return a.setState({isUploading:!0,progress:0})},a.handleProgress=function(e){return a.setState({progress:e})},a.handleUploadError=function(e){a.setState({isUploading:!1}),console.log(e)},a.handleUploadSuccess=function(e){a.setState({image:e,progress:100,isUploading:!1}),ce.a.storage().ref("projects").child(e).getDownloadURL().then((function(e){return a.setState({imageURL:e})}))},a.state={name:"",description:"",image:"",imageURL:"",progress:"",isUploading:"",errors:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.description,n=e.errors;return r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(K.a.Item,null,"Home")),r.a.createElement(O.LinkContainer,{to:"/issues"},r.a.createElement(K.a.Item,null,"Issues")),r.a.createElement(K.a.Item,{active:!0},"Create Project")),r.a.createElement(W.a.Dialog,null,r.a.createElement(W.a.Header,null,r.a.createElement(W.a.Title,null,"Create Project")),r.a.createElement(W.a.Body,null,r.a.createElement(X.a,{onSubmit:this.handleFormSubmit,id:"createProject"},this.state.isUploading&&r.a.createElement("p",null,"Progress: ",this.state.progress),this.state.imageURL&&r.a.createElement("img",{src:this.state.imageURL,alt:"File upload",className:"project-upload"}),r.a.createElement(X.a.Group,{controlId:"name"},r.a.createElement(X.a.Label,null,"Name"),r.a.createElement(X.a.Control,{type:"text",name:"name",value:t,onChange:this.handleChange,required:!0})),r.a.createElement(X.a.Group,{controlId:"description"},r.a.createElement(X.a.Label,null,"Description"),r.a.createElement(X.a.Control,{as:"textarea",rows:"5",name:"description",value:a,onChange:this.handleChange,required:!0})),r.a.createElement("label",{style:{backgroundColor:"steelblue",color:"white",padding:10,borderRadius:4,cursor:"pointer"}},"Upload a Project Image",r.a.createElement(ue.a,{hidden:!0,accept:"image/*",name:"image",randomizeFilename:!0,storageRef:ce.a.storage().ref("projects"),onUploadStart:this.handleUploadStart,onUploadError:this.handleUploadError,onUploadSuccess:this.handleUploadSuccess,onProgress:this.handleProgress})),n&&r.a.createElement(Y.a,{variant:"danger",dismissible:!0},r.a.createElement("p",null,n)))),r.a.createElement(W.a.Footer,null,r.a.createElement(O.LinkContainer,{to:"/projects"},r.a.createElement(Z.a,{variant:"primary",size:"sm"},"Cancel")),r.a.createElement(Z.a,{variant:"upshot",size:"sm",type:"submit",form:"createProject",disabled:!t||!a},"Submit"))))}}]),t}(n.Component)),Ne=j((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.priority),r.a.createElement("td",null,e.status),r.a.createElement("td",null,r.a.createElement(V.Link,{to:"/issues/"+e.id},e.title)),r.a.createElement("td",null,e.description),r.a.createElement("td",null,r.a.createElement(V.Link,{to:"/users/"+e.creatorId},e.creatorName)),r.a.createElement("td",null,e.followers),r.a.createElement("td",null,e.comments))})),Se=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={project:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;se.details(t).then((function(t){var a=t.data;e.setState({project:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=!1;return this.state.project&&this.props.user._id===this.state.project.creator._id&&(t=!0),r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(K.a.Item,null,"Home")),r.a.createElement(O.LinkContainer,{to:"/projects"},r.a.createElement(K.a.Item,null,"Projects")),r.a.createElement(K.a.Item,{active:!0},"Project Details")),r.a.createElement(_.a,{className:"controls"},r.a.createElement("h2",null,this.state.project.name),r.a.createElement(ve.a,{"aria-label":"Actions"},this.state.project&&t?r.a.createElement(O.LinkContainer,{to:"/projects/"+this.state.project._id+"/update"},r.a.createElement(Z.a,{variant:"upshot"},"Update")):null,this.state.project&&t?r.a.createElement(Z.a,{variant:"danger",onClick:function(){return se.delete(e.props.match.params.id)}},"Delete"):null)),r.a.createElement(_.a,null,r.a.createElement(F.a,{fluid:!0},r.a.createElement(be.a,{defaultActiveKey:"details",id:"uncontrolled-tab-example",className:"details"},r.a.createElement(je.a,{eventKey:"details",title:"Details"},r.a.createElement(F.a,{fluid:!0,className:"project-details"},r.a.createElement(_.a,null,r.a.createElement("img",{src:this.state.project.image,alt:this.state.project.name,className:"project-image"})),r.a.createElement(_.a,null,r.a.createElement(F.a,null,r.a.createElement("h5",null,"Created ",this.state.project.relativeDate," by ",this.state.project.creator&&r.a.createElement(V.Link,{to:"/users/"+this.state.project.creator._id},this.state.project.creator.firstName+" "+this.state.project.creator.lastName)),r.a.createElement("h6",null,"Issues: ",this.state.project.issues&&this.state.project.issues.length),r.a.createElement("p",null,this.state.project.description))))),r.a.createElement(je.a,{eventKey:"issues",title:"Issues"},r.a.createElement(F.a,{fluid:!0,className:"comments"},r.a.createElement(_.a,null,r.a.createElement(O.LinkContainer,{to:"/issues/create/"+this.state.project._id},r.a.createElement(Z.a,{variant:"upshot"},"Create New Issue"))),r.a.createElement(_.a,{className:"project-issues"},this.state.project.issues&&r.a.createElement(ne.a,{responsive:!0,className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Priority"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Creator"),r.a.createElement("th",null,"Followers"),r.a.createElement("th",null,"Comments"))),r.a.createElement("tbody",null,this.state.project.issues&&this.state.project.issues.map((function(e,t){return r.a.createElement(Ne,{key:t,id:e._id,priority:e.priority,status:e.status,title:e.title,description:e.content,creatorId:e.creator._id,creatorName:e.creator.firstName+" "+e.creator.lastName,followers:e.followers.length,comments:e.comments.length})})))))))))))}}]),t}(n.Component)),Ie=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(){var e=Object(A.a)(T.a.mark((function e(t){var n,r,l,s,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.id,l=n.name,s=n.description,i=a.state.imageURL,a.state.image&&""===i&&(i=a.state.image),e.next=6,se.update({id:r,name:l,description:s,imageURL:i});case 6:a.setState({name:"",description:"",imageURL:""}),a.props.history.push("/projects");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Q.a)({},n,r))},a.handleUploadStart=function(){return a.setState({isUploading:!0,progress:0})},a.handleProgress=function(e){return a.setState({progress:e})},a.handleUploadError=function(e){a.setState({isUploading:!1}),console.log(e)},a.handleUploadSuccess=function(e){a.setState({image:e,progress:100,isUploading:!1}),ce.a.storage().ref("projects").child(e).getDownloadURL().then((function(e){return a.setState({imageURL:e})}))},a.componentDidMount=function(){var e=a.props.match.params.id;se.details(e).then((function(e){var t=e.data;a.setState({name:t.name,description:t.description,image:t.image})})).catch((function(e){return console.log(e)}))},a.state={id:a.props.match.params.id,name:"",description:"",image:"",imageURL:"",progress:"",isUploading:"",errors:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.description,n=e.errors;return r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(K.a.Item,null,"Home")),r.a.createElement(O.LinkContainer,{to:"/projects"},r.a.createElement(K.a.Item,null,"Projects")),r.a.createElement(O.LinkContainer,{to:"/projects/"+this.state.id},r.a.createElement(K.a.Item,null,this.state.name)),r.a.createElement(K.a.Item,{active:!0},"Update Project")),r.a.createElement(W.a.Dialog,null,r.a.createElement(W.a.Header,null,r.a.createElement(W.a.Title,null,"Update Project")),r.a.createElement(W.a.Body,null,r.a.createElement(X.a,{onSubmit:this.handleFormSubmit,id:"updateProject"},this.state.isUploading&&r.a.createElement("p",null,"Progress: ",this.state.progress),this.state.imageURL&&r.a.createElement("img",{src:this.state.imageURL,alt:"File upload",className:"project-upload"}),r.a.createElement(X.a.Group,{controlId:"name"},r.a.createElement(X.a.Label,null,"Name"),r.a.createElement(X.a.Control,{type:"text",name:"name",value:t,onChange:this.handleChange,required:!0})),r.a.createElement(X.a.Group,{controlId:"description"},r.a.createElement(X.a.Label,null,"Description"),r.a.createElement(X.a.Control,{as:"textarea",rows:"5",name:"description",value:a,onChange:this.handleChange,required:!0})),r.a.createElement("label",{style:{backgroundColor:"steelblue",color:"white",padding:10,borderRadius:4,cursor:"pointer"}},"Upload a new Project Image",r.a.createElement(ue.a,{hidden:!0,accept:"image/*",name:"image",randomizeFilename:!0,storageRef:ce.a.storage().ref("projects"),onUploadStart:this.handleUploadStart,onUploadError:this.handleUploadError,onUploadSuccess:this.handleUploadSuccess,onProgress:this.handleProgress})),n&&r.a.createElement(Y.a,{variant:"danger",dismissible:!0},r.a.createElement("p",null,n)))),r.a.createElement(W.a.Footer,null,r.a.createElement(O.LinkContainer,{to:"/projects"},r.a.createElement(Z.a,{variant:"primary",size:"sm"},"Cancel")),r.a.createElement(Z.a,{variant:"upshot",size:"sm",type:"submit",form:"updateProject",disabled:!t||!a},"Submit"))))}}]),t}(n.Component)),Ue=j((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{src:e.avatar,alt:e.name,className:"list-image"})),r.a.createElement("td",null,r.a.createElement(V.Link,{to:"/users/"+e.id},e.name)),r.a.createElement("td",null,r.a.createElement("a",{href:"mailto://"+e.email},e.email)),r.a.createElement("td",null,e.projects),r.a.createElement("td",null,e.issues),r.a.createElement("td",null,e.comments),r.a.createElement("td",null,e.following),r.a.createElement("td",null,e.assignedTo),r.a.createElement("td",null,e.created))})),De=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={users:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;de.list().then((function(t){var a=t.data;a.length>0&&e.setState({users:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return console.log(this.state.users),r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(K.a.Item,null,"Home")),r.a.createElement(K.a.Item,{active:!0},"Team Members")),r.a.createElement(_.a,{className:"controls"},r.a.createElement("h2",null,"Team Members")),r.a.createElement(_.a,null,r.a.createElement(ne.a,{responsive:!0,className:"table",striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Projects"),r.a.createElement("th",null,"Issues"),r.a.createElement("th",null,"Comments"),r.a.createElement("th",null,"Following"),r.a.createElement("th",null,"Assigned To"),r.a.createElement("th",null,"Member Since"))),r.a.createElement("tbody",null,this.state.users.map((function(e,t){return r.a.createElement(Ue,{key:t,id:e._id,issues:e.issues.length,projects:e.projects.length,comments:e.comments.length,name:e.firstName+" "+e.lastName,avatar:e.avatar,email:e.email,following:e.following.length,assignedTo:e.assignedTo.length,created:e.relativeDate})}))))))}}]),t}(n.Component)),xe=j((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(V.Link,{to:"/issues/"+e.issueId},e.issue)),r.a.createElement("td",null,e.comment),r.a.createElement("td",null,e.posted))})),Pe=j((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(V.Link,{to:"/projects/"+e.id},r.a.createElement("img",{src:e.image,alt:e.name,className:"list-image"}))),r.a.createElement("td",null,r.a.createElement(V.Link,{to:"/projects/"+e.id},e.name)),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.issues),r.a.createElement("td",null,e.created))})),Re=j((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.priority),r.a.createElement("td",null,e.status),r.a.createElement("td",null,r.a.createElement(V.Link,{to:"/issues/"+e.id},e.title)),r.a.createElement("td",null,e.project),r.a.createElement("td",null,e.followers),r.a.createElement("td",null,e.created))})),Fe=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={user:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;de.details(t).then((function(t){var a=t.data;e.setState({user:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=!1;return this.state.user&&this.props.user._id===this.state.user._id&&(e=!0),console.log(this.state.user),r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(K.a.Item,null,"Home")),r.a.createElement(O.LinkContainer,{to:"/users"},r.a.createElement(K.a.Item,null,"Team members")),r.a.createElement(K.a.Item,{active:!0},"User Details")),r.a.createElement(_.a,{className:"controls"},r.a.createElement("h2",null,this.state.user.firstName+" "+this.state.user.lastName),r.a.createElement("div",null,this.state.user&&e?r.a.createElement(O.LinkContainer,{to:"/users/"+this.state.user._id+"/update"},r.a.createElement(Z.a,{variant:"upshot"},"Update")):null)),r.a.createElement(_.a,null,r.a.createElement(F.a,{fluid:!0},r.a.createElement(be.a,{defaultActiveKey:"details",id:"uncontrolled-tab-example",className:"details"},r.a.createElement(je.a,{eventKey:"details",title:"Details"},r.a.createElement(F.a,{fluid:!0,className:"project-details"},r.a.createElement(_.a,null,r.a.createElement("img",{src:this.state.user.avatar,alt:this.state.user.firstName+" "+this.state.user.lastName,className:"project-image"})),r.a.createElement(_.a,null,r.a.createElement(F.a,null,r.a.createElement("h5",null,"Joined ",this.state.user.relativeDate),r.a.createElement("h6",null,"Projects: ",this.state.user.projects&&this.state.user.projects.length),r.a.createElement("h6",null,"Issues: ",this.state.user.issues&&this.state.user.issues.length),r.a.createElement("h6",null,"Following: ",this.state.user.following&&this.state.user.following.length),r.a.createElement("h6",null,"AssignedTo: ",this.state.user.assignedTo&&this.state.user.assignedTo.length),r.a.createElement("h6",null,"Comments: ",this.state.user.comments&&this.state.user.comments.length))))),r.a.createElement(je.a,{eventKey:"projects",title:"Projects"},r.a.createElement(F.a,{fluid:!0,className:"comments"},r.a.createElement(_.a,{className:"project-issues"},this.state.user.projects&&r.a.createElement(ne.a,{responsive:!0,className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Issues"),r.a.createElement("th",null,"Created"))),r.a.createElement("tbody",null,this.state.user.projects&&this.state.user.projects.map((function(e,t){return r.a.createElement(Pe,{key:t,id:e._id,image:e.image,name:e.name,description:e.description,issues:e.issues.length,created:e.relativeDate})}))))))),r.a.createElement(je.a,{eventKey:"issues",title:"Issues"},r.a.createElement(F.a,{fluid:!0,className:"comments"},r.a.createElement(_.a,{className:"project-issues"},this.state.user.issues&&r.a.createElement(ne.a,{responsive:!0,className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Priority"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"title"),r.a.createElement("th",null,"Project"),r.a.createElement("th",null,"Followers"),r.a.createElement("th",null,"Created"))),r.a.createElement("tbody",null,this.state.user.issues&&this.state.user.issues.map((function(e,t){return r.a.createElement(Re,{key:t,id:e._id,priority:e.priority,status:e.status,title:e.title,followers:e.followers.length,project:e.project.name,created:e.relativeDate})}))))))),r.a.createElement(je.a,{eventKey:"comments",title:"Comments"},r.a.createElement(F.a,{fluid:!0,className:"comments"},r.a.createElement(_.a,{className:"project-issues"},this.state.user.comments&&r.a.createElement(ne.a,{responsive:!0,className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Issue"),r.a.createElement("th",null,"Comment"),r.a.createElement("th",null,"Posted"))),r.a.createElement("tbody",null,this.state.user.comments&&this.state.user.comments.map((function(e,t){return r.a.createElement(xe,{key:t,id:e._id,issueId:e.issue._id,issue:e.issue.title,comment:e.content,posted:e.relativeDate})})))))))))))}}]),t}(n.Component)),_e=j(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.id;de.details(e).then((function(e){var t=e.data;a.setState({user:t,firstName:t.firstName,lastName:t.lastName,email:t.email})})).catch((function(e){return console.log(e)}))},a.handleFormSubmit=function(){var e=Object(A.a)(T.a.mark((function e(t){var n,r,l,s,i,c,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.id,l=n.firstName,s=n.lastName,i=n.email,c=n.password,o=n.imageURL,e.next=4,de.update({id:r,firstName:l,lastName:s,email:i,password:c,imageURL:o});case 4:a.setState({firstName:"",lastName:"",email:""}),a.props.history.push("/users/"+a.props.match.params.id);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Q.a)({},n,r))},a.handleUploadStart=function(){return a.setState({isUploading:!0,progress:0})},a.handleProgress=function(e){return a.setState({progress:e})},a.handleUploadError=function(e){a.setState({isUploading:!1}),console.log(e)},a.handleUploadSuccess=function(e){a.setState({image:e,progress:100,isUploading:!1}),ce.a.storage().ref("users").child(e).getDownloadURL().then((function(e){return a.setState({imageURL:e})}))},a.state={id:a.props.match.params.id,user:"",firstName:"",lastName:"",email:"",password:"",image:"",imageURL:"",progress:"",isUploading:"",errors:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.firstName,a=e.lastName,n=e.email,l=e.errors;return r.a.createElement(F.a,{fluid:!0},r.a.createElement(K.a,null,r.a.createElement(O.LinkContainer,{to:"/"},r.a.createElement(K.a.Item,null,"Home")),r.a.createElement(O.LinkContainer,{to:"/users"},r.a.createElement(K.a.Item,null,"Users")),r.a.createElement(O.LinkContainer,{to:"/users/"+this.props.match.params.id},r.a.createElement(K.a.Item,null,this.state.firstName+" "+this.state.lastName)),r.a.createElement(K.a.Item,{active:!0},"Update User Profile")),r.a.createElement(W.a.Dialog,null,r.a.createElement(W.a.Header,{closeButton:!0},r.a.createElement(W.a.Title,null,"Update User Profile")),r.a.createElement(W.a.Body,null,r.a.createElement(F.a,null,r.a.createElement(ge.a,{src:this.state.user.avatar,alt:"Avatar",fluid:!0})),r.a.createElement(F.a,null,this.state.isUploading&&r.a.createElement("p",null,"Progress: ",this.state.progress),this.state.imageURL&&r.a.createElement("img",{src:this.state.imageURL,alt:"File upload",className:"project-upload"})),r.a.createElement(X.a,{onSubmit:this.handleFormSubmit,id:"updateUser"},r.a.createElement(X.a.Group,{controlId:"firstName"},r.a.createElement(X.a.Label,null,"First Name"),r.a.createElement(X.a.Control,{type:"text",name:"firstName",value:t,onChange:this.handleChange,required:!0})),r.a.createElement(X.a.Group,{controlId:"lastName"},r.a.createElement(X.a.Label,null,"Last Name"),r.a.createElement(X.a.Control,{type:"text",name:"lastName",value:a,onChange:this.handleChange,required:!0})),r.a.createElement(X.a.Group,{controlId:"email"},r.a.createElement(X.a.Label,null,"Email address"),r.a.createElement(X.a.Control,{type:"email",name:"email",value:n,onChange:this.handleChange,autoComplete:"email",required:!0})),r.a.createElement("label",{style:{backgroundColor:"steelblue",color:"white",padding:10,borderRadius:4,cursor:"pointer"}},"Upload a new Project Image",r.a.createElement(ue.a,{hidden:!0,accept:"image/*",name:"image",randomizeFilename:!0,storageRef:ce.a.storage().ref("users"),onUploadStart:this.handleUploadStart,onUploadError:this.handleUploadError,onUploadSuccess:this.handleUploadSuccess,onProgress:this.handleProgress})),l&&r.a.createElement(Y.a,{variant:"danger",dismissible:!0},r.a.createElement("p",null,l)))),r.a.createElement(W.a.Footer,null,r.a.createElement(O.LinkContainer,{to:"/users/"+this.state.user._id},r.a.createElement(Z.a,{variant:"primary",size:"sm"},"Cancel")),r.a.createElement(Z.a,{variant:"primary",type:"submit",form:"updateUser",disabled:!t||!a||!n},"Submit"))))}}]),t}(n.Component));ce.a.initializeApp({apiKey:"AIzaSyDe4FigH9fqoAhpMTO2AqQ9B0qpsV3tHus",authDomain:"localhost",storageBucket:"gs://upshot-its.appspot.com"});var He=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(C,null,r.a.createElement(x,null),r.a.createElement(F.a,{fluid:!0},r.a.createElement(_.a,null,r.a.createElement(H.a,{sm:2,className:"sidebar"},r.a.createElement(R,null)),r.a.createElement(H.a,{sm:10,className:"main"},r.a.createElement(d.g,null,r.a.createElement(w,{exact:!0,path:"/signup",component:$}),r.a.createElement(w,{exact:!0,path:"/login",component:ee}),r.a.createElement(k,{exact:!0,path:"/",component:J}),r.a.createElement(k,{exact:!0,path:"/dashboard",component:J}),r.a.createElement(k,{exact:!0,path:"/issues",component:re}),r.a.createElement(k,{exact:!0,path:"/issues/create",component:me}),r.a.createElement(k,{exact:!0,path:"/issues/create/:id",component:me}),r.a.createElement(k,{exact:!0,path:"/issues/:id",component:Ce}),r.a.createElement(k,{exact:!0,path:"/issues/:id/comment",component:ye}),r.a.createElement(k,{exact:!0,path:"/issues/:id/update",component:we}),r.a.createElement(k,{exact:!0,path:"/projects",component:Oe}),r.a.createElement(k,{exact:!0,path:"/projects/create",component:Le}),r.a.createElement(k,{exact:!0,path:"/projects/:id",component:Se}),r.a.createElement(k,{exact:!0,path:"/projects/:id/update",component:Ie}),r.a.createElement(k,{exact:!0,path:"/users",component:De}),r.a.createElement(k,{exact:!0,path:"/users/:id",component:Fe}),r.a.createElement(k,{exact:!0,path:"/users/:id/update",component:_e}))))))}}]),t}(n.Component);a(510);s.a.render(r.a.createElement(V.BrowserRouter,null,r.a.createElement(He,null)),document.getElementById("root"))}},[[278,1,2]]]);
//# sourceMappingURL=main.723b0285.chunk.js.map